# 输入url到看到页面，发生的全过程
> DNS解析 ——TCP连接 ——发送HTTP请求 ——服务器处理请求并返回HTTP报文 ——浏览器解析渲染页面 ——连接结束
1. (DNS解析)输入url后，首先需要找到这个url域名的服务器ip,为了寻找这个ip，浏览器首先会寻找缓存，查看缓存中是否有记录，缓存的查找记录为：浏览器缓存-》系统缓存-》路由器缓存，缓存中没有则查找系统的hosts文件中是否有记录，如果没有则查询DNS服务器，得到服务器的ip地址后。
2. (TCP连接)建立tcp连接，保障数据可靠安全的传输。三次握手，应答确认，重发机制，窗口控制，拥塞控制
3. (HTTP请求)浏览器根据ip+port，构造一个http请求.请求报文会包括这次请求的信息，主要是请求方法，请求说明和请求附带的数据，并将这个http请求封装在一个tcp包中，这个tcp包会依次经过传输层，网络层，数据链路层，物理层到达服务器.
4. (服务器处理请求并返回http报文)服务器解析这个请求来作出响应，返回相应的html给浏览器
5. document解析渲染过程:
   - (DOM树)html是一个树形结构，浏览器根据这个html来构建DOM树.在dom树的构建过程中如果遇到JS脚本和外部JS连接，则会停止构建DOM树来执行和下载相应的代码，这会造成阻塞，这就是为什么推荐JS代码应该放在html代码的后面。
   - (CSS树)根据外部样式，内部样式，内联样式构建一个CSS对象模型树CSSOM树
   - (构造渲染树)CSS树和DOM树合并为渲染树。这里主要做的是排除非视觉节点，比如script，meta标签和排除display为none的节点，之后进行布局，布局主要是确定各个元素的位置和尺寸，因为html文件中会含有图片，视频，音频等资源，在解析DOM的过程中，遇到这些都会进行并行下载，浏览器对每个域的并行下载数量有一定的限制，一般是4-6个。
6. 缓存。强缓存和协商缓存的机制